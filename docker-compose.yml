version: '3.8'

services:
  asterisk:
    image: andrius/asterisk:22
    container_name: pbx_engine
    restart: always
    network_mode: host
    cap_add:
      - NET_ADMIN
      - SYS_NICE
    environment:
      - SYSLOG_LEVEL=4
    volumes:
      - ./asterisk/etc:/etc/asterisk:ro
      - asterisk_data:/var/lib/asterisk
      - asterisk_logs:/var/log/asterisk

volumes:
  asterisk_data:
  asterisk_logs:
